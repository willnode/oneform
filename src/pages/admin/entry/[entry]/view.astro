---
const { entry: entryID } = Astro.params;

import ViewEntry from "./_view";
import query from "@/lib/query";
import Admin from "@/layouts/Admin.astro";

if (!entryID) {
  return notFound();
}

const entry = await query.getEntryById(entryID);
if (!entry) {
  return notFound();
}

const form = await query.getFormById(entry.formId);
if (!form) {
  return notFound();
}
---

<Admin title="View Form">
  <ViewEntry entry={entry} form={form} />
</Admin>
